title: 提升网页加载速度的黄金法则
tags:
  - 前端开发
categories: []
date: 2018-10-15 17:48:00
---

本文内容较长，欢迎关注和收藏。

很多研究表明，用户最满意的网站加载时间是在2s以内。用户能够忍受的加载时间，大约是6~8秒。也就是说，如果一个网站加载时间超过8秒，绝大部分用户会选择离开。
    
据相关资料表明，谷歌，亚马逊，雅虎三家公司曾给出这样的数据：
  - Google网站显示10条搜索结果，页面载入时间大约是0.4秒，显示30条搜索结果，页面载入需要0.9秒，后者使得谷歌总的流量和收入减少20%;
  - Amazon每增加100ms网络延迟，收入下降1%；
  - 雅虎如果有400ms延迟，流量下降5%-9%。

以上可知，网站的加载速度，严重影响了用户体验，也决定了一个网站的生存。

> **性能黄金法则**：只有10%-20%的最终用户响应时间花在了下载HTML文档上，其余80%-90%时间花在下载页面中的所有组件上。


那么，80%-90%的时间花在了哪里了呢？下面，本文总结web前端性能优化的方式，希望能帮到您，欢迎关注和收藏。

### 一、尽量减少HTTP请求
1. 合并脚本和样式表

    将多个脚本或者样式表合并为一个文件，可以减少http请求数量，缩短加载时间。当然，合并文件也需要权衡利弊，如果用户只访问一个页面，但是一次性把所有的页面的样式文件和脚本加载进来，反而增加了下载量。

2. 使用字体图标

    页面中每有个<img\>标签，就会多一个http请求。在一些使用简单图片的地方，尽量使用字体图标代替，这样可以有效减少http请求。

3. CSS雪碧图

    CSS Sprites在国内很多人叫css精灵，是一种网页图片应用处理方式。它允许你将一个页面涉及到的所有零星图片都包含到一张大图中去，这样一来，当访问该页面时，载入的图片就不会像以前那样一幅一幅地慢慢显示出来了。对于当前网络流行的速度而言，不高于200KB的单张图片的所需载入时间基本是差不多的，所以无需顾忌这个问题。

    CSS Sprites其实就是把网页中一些背景图片整合到一张图片文件中，再利用CSS的“background-image”，“background- repeat”，“background-position”的组合进行背景定位，background-position可以用数字精确的定位出背景图片的位置。

4. 图片地图
### 二、使用CDN(内容分发网络)
### 三、为文件头指定Expires或Cache-Control，使内容具有缓存性。
### 四、压缩组件
### 五、将样式表放在头部
### 六、将脚本放在底部
### 七、避免CSS表达式
### 八、使用外部的JavaScript和CSS
### 九、减少DNS查找
### 十、精简JavaScript
### 十一、避免重定向
### 十二、删除重复代码
### 十三、配置ETag
### 十四、使用Ajax缓存
### 十五、懒加载
### 十六、预加载
### 十七、避免空的src和href
### 十八、使用GET来完成AJAX请求